<!DOCTYPE html>
<!--[if lt IE 7]> <html class="lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html> <!--<![endif]-->
<head>
        <!--************** Meta Tag Information **************-->
        <meta charset="UTF-8">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
        <meta name="keywords" content="Sparks is a Global Brand Experience Agency">
        <meta name="description" content="Sparks is a Global Brand Experience Agency">

        <!--************** OpenGraph Tag Information **************-->
        <meta property="og:title" content="Sparks Creative Technology">
        <meta property="og:type" content="website">
        <meta property="og:image" content="http://impracticalapplications.com/img/01.gif">
        <meta property="og:url" content="https://wearesparks.com/">
        <meta property="og:description" content="Sparks is a Global Brand Experience Agency">

        <!--************** Page Title **************-->
        <title>Sparks Creative Technology</title>

        <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon/favicon-16x16.png">
        <link rel="manifest" href="/img/favicon/site.webmanifest">
        <link rel="mask-icon" href="/img/favicon/safari-pinned-tab.svg" color="#fc533e">
        <link rel="shortcut icon" href="/img/favicon/favicon.ico">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-config" content="/img/favicon/browserconfig.xml">
        <meta name="theme-color" content="#ffffff">
        <!--************** Page Title **************-->

        <!--************** STYLESHEETS AND RESETS **************-->
        <link rel="stylesheet" href="css/main.css">
        <script src="js/vendor/modernizr-2.8.3.min.js"></script>
        <!--[if lt IE 9]> <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script> <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script> <![endif]-->



</head>

<body>



<main>
    <div class="page-section gradient" id="form-bucket">
        <div class="container">
            <div class="centerer">
                <div class="text-center">
                    <h2 class="white">Create Hotspot</h2><br>
                </div>
                <div class="form">
                    <form id="api-upload" enctype="multipart/form-data" action="/api" method="post">
                        <section>
                            <label>
                                <input name="name" type="text" placeholder="Name" tabindex="2" maxlength="50" required>
                                <span>Name</span>
                            </label>
                        </section>

                        <section>
                            <label>
                                <input name="latitude" type="text" placeholder="Latitude" tabindex="1" maxlength="50" required>
                                <span>Latitude</span>
                            </label>
                            <label>
                                <input name="longitude" type="text" placeholder="Longitude" tabindex="1" maxlength="50" required>
                                <span>Longitude</span>
                            </label>
                        </section>

                        <!-- <input type="file" name="files" title=" " multiple /> -->


                        <section>
                            <label>
                                <input type="file" name="files" placeholder="Images" title=" " multiple>
                            </label>
                        </section>



                        <div class="submit">
                            <!-- <button name="submit" type="submit" data-submit="...Sending">Submit</button> -->
                            <input type="submit" value="Submit" />
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
</main>



<!-- jQuery -->
<script src="js/vendor/jquery-3.1.1.min.js"></script>
<script src="js/vendor/jquery-ui.min.js"></script>
<script src="js/vendor/jquery.form.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<!-- <script src="js/vendor/tether.min.js"></script> -->
<!-- <script src="js/vendor/bootstrap.min.js"></script> -->

<script src="js/nav.js"></script>
<script src="js/main.js"></script>

<script>
    $(document).ready(function(){

        // $('#api-upload').ajaxForm(function(e) {
        //     console.log("submit");
        //     return false;
        // });

        $('#api-upload').submit(function(event) {
            console.log("submit");
            event.preventDefault();



            // var form_data = $('#api-upload').serialize();

            // // var formData = new FormData();
            // //
            // var totalFiles = document.getElementById("camera-upload").files.length;
            // var files = []
            // //
            // for (var i = 0; i < totalFiles; i++) {
            //     var file = document.getElementById("camera-upload").files[i];
            //     // files.push(file);  //Use [] to add multiple.
            //     // form_data.append("files[]", file);
            // }

            // console.log(form_data)


            // $.ajax({
            //     url: "/api",
            //     type: 'POST',
            //     data: form_data,
            //     processData: false,
            //     contentType: false,
            //     success: function (data) {
            //         // console.log("success");
            //         $('#api-upload')[0].reset();
            //         // document.getElementById("#contact").reset();
            //         return false;
            //     }
            // });
            // return false;


            // var fileInput = document.getElementById("camera-upload");
            // var file = event.target.files[0];
            // console.log(fileInput.files[0])

            //// Send images from file input to server
            $('#api-upload').ajaxSubmit({
            // $(event.target).ajaxSubmit({
                // data: files,
                error: function(xhr) {
                    console.log("Error:", xhr.status);
                },
                success: function(response) {
                    console.log(response);
                    $('#api-upload')[0].reset();
                }
            });
            return false;


        });


        // ////
        // //// Image Upload to Server
        // ////
        // document.getElementById("camera-upload").addEventListener('change', function(e) {
        //     console.log("input")
        //
        //     var fileInput = document.getElementById("file-input");
        //     var file = e.target.files[0];
        //
        //     //// Send images from file input to server
        //     $('#api-upload').ajaxSubmit({
        //         error: function(xhr) {
        //             console.log("Error:", xhr.status);
        //         },
        //         success: function(response) {
        //             console.log(response);
        //         }
        //     });
        //     return false;
        // });





    });
</script>


</body>

</html>
